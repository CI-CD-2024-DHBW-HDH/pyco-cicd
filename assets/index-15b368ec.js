var Ye=Object.defineProperty;var Se=(e,t,n)=>t in e?Ye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var v=(e,t,n)=>(Se(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function M(){}function he(e,t){for(const n in t)e[n]=t[n];return e}function Ae(e){return e()}function _e(){return Object.create(null)}function I(e){e.forEach(Ae)}function Me(e){return typeof e=="function"}function G(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function Le(e){return Object.keys(e).length===0}function _(e,t){e.appendChild(t)}function $(e,t,n){e.insertBefore(t,n||null)}function E(e){e.parentNode&&e.parentNode.removeChild(e)}function Ce(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function p(e){return document.createElement(e)}function T(e){return document.createTextNode(e)}function L(){return T(" ")}function R(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function h(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function Ne(e){return Array.from(e.childNodes)}function ce(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function He(e,t,{bubbles:n=!1,cancelable:r=!1}={}){const i=document.createEvent("CustomEvent");return i.initCustomEvent(e,n,r,t),i}let q;function W(e){q=e}function $e(){if(!q)throw new Error("Function called outside component initialization");return q}function Re(e){$e().$$.on_mount.push(e)}function ie(){const e=$e();return(t,n,{cancelable:r=!1}={})=>{const i=e.$$.callbacks[t];if(i){const s=He(t,n,{cancelable:r});return i.slice().forEach(o=>{o.call(e,s)}),!s.defaultPrevented}return!0}}const N=[],ye=[],te=[],pe=[],Ie=Promise.resolve();let le=!1;function Oe(){le||(le=!0,Ie.then(Pe))}function ue(e){te.push(e)}const se=new Set;let C=0;function Pe(){if(C!==0)return;const e=q;do{try{for(;C<N.length;){const t=N[C];C++,W(t),De(t.$$)}}catch(t){throw N.length=0,C=0,t}for(W(null),N.length=0,C=0;ye.length;)ye.pop()();for(let t=0;t<te.length;t+=1){const n=te[t];se.has(n)||(se.add(n),n())}te.length=0}while(N.length);for(;pe.length;)pe.pop()();le=!1,se.clear(),W(e)}function De(e){if(e.fragment!==null){e.update(),I(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(ue)}}const ne=new Set;let Be;function B(e,t){e&&e.i&&(ne.delete(e),e.i(t))}function X(e,t,n,r){if(e&&e.o){if(ne.has(e))return;ne.add(e),Be.c.push(()=>{ne.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}else r&&r()}function ge(e,t){const n={},r={},i={$$scope:1};let s=e.length;for(;s--;){const o=e[s],l=t[s];if(l){for(const u in o)u in l||(r[u]=1);for(const u in l)i[u]||(n[u]=l[u],i[u]=1);e[s]=l}else for(const u in o)i[u]=1}for(const o in r)o in n||(n[o]=void 0);return n}function ve(e){return typeof e=="object"&&e!==null?e:{}}function Z(e){e&&e.c()}function j(e,t,n,r){const{fragment:i,after_update:s}=e.$$;i&&i.m(t,n),r||ue(()=>{const o=e.$$.on_mount.map(Ae).filter(Me);e.$$.on_destroy?e.$$.on_destroy.push(...o):I(o),e.$$.on_mount=[]}),s.forEach(ue)}function U(e,t){const n=e.$$;n.fragment!==null&&(I(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function je(e,t){e.$$.dirty[0]===-1&&(N.push(e),Oe(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function K(e,t,n,r,i,s,o,l=[-1]){const u=q;W(e);const c=e.$$={fragment:null,ctx:[],props:s,update:M,not_equal:i,bound:_e(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(u?u.$$.context:[])),callbacks:_e(),dirty:l,skip_bound:!1,root:t.target||u.$$.root};o&&o(c.root);let d=!1;if(c.ctx=n?n(e,t.props||{},(m,g,...A)=>{const a=A.length?A[0]:g;return c.ctx&&i(c.ctx[m],c.ctx[m]=a)&&(!c.skip_bound&&c.bound[m]&&c.bound[m](a),d&&je(e,m)),g}):[],c.update(),d=!0,I(c.before_update),c.fragment=r?r(c.ctx):!1,t.target){if(t.hydrate){const m=Ne(t.target);c.fragment&&c.fragment.l(m),m.forEach(E)}else c.fragment&&c.fragment.c();t.intro&&B(e.$$.fragment),j(e,t.target,t.anchor,t.customElement),Pe()}W(u)}class V{$destroy(){U(this,1),this.$destroy=M}$on(t,n){if(!Me(n))return M;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(t){this.$$set&&!Le(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function Ue(e,t){const n=oe(e);return ae(e,t)!==-1?ae(e,t):Te(n.length)}function We(e,t){const n=oe(e),r=new Map;for(const s of n){const o=[...e];o[s]=t,r.set(s,fe(o,H(t),t,!1)),o[s]=y.EMPTY}let i=[-1,-1/0];for(const s of r)s[1]>i[1]&&(i=s);return i[0]}function fe(e,t,n,r){const i=oe(e),s=re(e);if(s===n)return 1;if(s===H(n))return-1;if(!i.length)return 0;let o=r?-1/0:1/0;for(const l of i){if(e[l]=t,r){const u=fe(e,H(t),n,!1);o=Math.max(o,u)}else{const u=fe(e,H(t),n,!0);o=Math.min(o,u)}e[l]=y.EMPTY}return o}function xe(e,t){let n=ae(e,t);if(n!==-1||(n=Ge(e,t),n!==-1))return n;if(e[4]===y.EMPTY)return 4;do n=Te(8);while(e[n]!==y.EMPTY);return n}function qe(e,t){return-1}function F(e){switch(e){case b.EASY:return Ue;case b.PETTY:return qe;case b.MEDIUM:return xe;case b.HARD:return We;case(b.HUMAN||b.ONLINE):return;default:return}}function ae(e,t){if(re(e)!==y.EMPTY)return-1;for(let n=0;n<e.length;n++){if(e[n]!==y.EMPTY)continue;e[n]=t;let r=re(e)===t;if(e[n]=y.EMPTY,r)return n}return-1}function Ge(e,t){const n=t===y.PLAYER1?y.PLAYER2:y.PLAYER1,r=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];for(const i of r){let s=0,o=0,l=0;for(let u=0;u<i.length;u++){const c=i[u];e[c]===y.EMPTY?(o++,l=c):e[c]===n&&s++}if(s===2&&o===1)return l}return-1}function Te(e){return Math.floor(Math.random()*e)}var b=(e=>(e[e.EASY=0]="EASY",e[e.PETTY=1]="PETTY",e[e.MEDIUM=2]="MEDIUM",e[e.HARD=3]="HARD",e[e.HUMAN=4]="HUMAN",e[e.ONLINE=5]="ONLINE",e))(b||{}),y=(e=>(e[e.EMPTY=0]="EMPTY",e[e.PLAYER1=1]="PLAYER1",e[e.PLAYER2=2]="PLAYER2",e))(y||{});class be{constructor(t){v(this,"score",0);v(this,"field");v(this,"botMove");this.field=t}addWin(){this.score++}isHuman(){return this.botMove===void 0}move(t){return this.botMove!==void 0?this.botMove(t,this.field):-1}}class Ke{constructor(t=new be(1),n=new be(2),r=0){v(this,"player");v(this,"enemy");v(this,"mode");t.score=0,n.score=0,this.mode=r,this.player=t,this.enemy=n,this.enemy.botMove=F(this.mode)}addWin(t){switch(t){case 1:this.player.addWin();break;case 2:this.enemy.addWin();break}}switchSides(){const t=this.player.botMove;this.player.botMove=this.enemy.botMove,this.enemy.botMove=t;const n=this.player.score;this.player.score=this.enemy.score,this.enemy.score=n}updateMode(t){if(this.mode=t,this.player.isHuman()&&this.enemy.isHuman()&&t!=4){this.enemy.botMove=F(this.mode);return}this.player.isHuman()||(this.player.botMove=F(this.mode)),this.enemy.isHuman()||(this.enemy.botMove=F(this.mode))}}class ke{constructor(t){v(this,"finished");v(this,"winner",0);this.winner=re(t),this.finished=Ve(t)||this.winner!==0}isDraw(){return this.finished===!0&&this.winner===0}}function Ve(e){return!e.some(t=>t===0)}function re(e){for(let t=0;t<3;t++)if(e[t*3]!==0&&e[t*3]===e[t*3+1]&&e[t*3+1]===e[t*3+2])return e[t*3];for(let t=0;t<3;t++)if(e[t*3]!==0&&e[t]===e[t+3]&&e[t+3]===e[t+6])return e[t];return e[0]!==0&&e[0]===e[4]&&e[4]==e[8]||e[2]!==0&&e[2]===e[4]&&e[4]===e[6]?e[4]:0}function ee(){const e=new Array(9);return e.fill(0),e}function oe(e){return e.map((t,n)=>t!==0?-1:n).filter(t=>t>=0)}function H(e){return ze(e)?3-e:0}function ze(e){return e===1||e===2}function we(e,t,n){const r=e.slice();return r[11]=t[n],r[13]=n,r}function Ee(e){let t,n=e[1](e[11])+"",r,i,s,o;function l(){return e[5](e[13])}function u(){return e[6](e[13])}return{c(){t=p("div"),r=T(n),i=L(),h(t,"class","field svelte-1sape3k"),h(t,"id",e[13].toString())},m(c,d){$(c,t,d),_(t,r),_(t,i),s||(o=[R(t,"click",l),R(t,"keydown",u)],s=!0)},p(c,d){e=c,d&3&&n!==(n=e[1](e[11])+"")&&ce(r,n)},d(c){c&&E(t),s=!1,I(o)}}}function Je(e){let t,n=e[0],r=[];for(let i=0;i<n.length;i+=1)r[i]=Ee(we(e,n,i));return{c(){t=p("div");for(let i=0;i<r.length;i+=1)r[i].c();h(t,"id","grid"),h(t,"class","svelte-1sape3k")},m(i,s){$(i,t,s);for(let o=0;o<r.length;o+=1)r[o].m(t,null)},p(i,[s]){if(s&7){n=i[0];let o;for(o=0;o<n.length;o+=1){const l=we(i,n,o);r[o]?r[o].p(l,s):(r[o]=Ee(l),r[o].c(),r[o].m(t,null))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},i:M,o:M,d(i){i&&E(t),Ce(r,i)}}}function Qe(e,t,n){let{board:r}=t,{fieldToString:i}=t,{player:s}=t,{enemy:o}=t,l=y.PLAYER1|y.PLAYER2;l=y.PLAYER1;const u=ie();function c(){return l===s.field?s:o}function d(a){m(a,c().field)&&(l=H(l),c().isHuman()||(m(c().move(r),c().field),l=H(l)))}function m(a,f){return r[a]!==y.EMPTY||new ke(r).finished?!1:(n(0,r[a]=f,r),n(0,r),!0)}const g=a=>d(a),A=a=>d(a);return e.$$set=a=>{"board"in a&&n(0,r=a.board),"fieldToString"in a&&n(1,i=a.fieldToString),"player"in a&&n(3,s=a.player),"enemy"in a&&n(4,o=a.enemy)},e.$$.update=()=>{if(e.$$.dirty&1){let a=new ke(r);a.finished&&u("finished",a)}e.$$.dirty&1&&oe(r).length===9&&(l=y.PLAYER1,c().isHuman()||(m(c().move(r),c().field),l=y.PLAYER2))},[r,i,d,s,o,g,A]}class Xe extends V{constructor(t){super(),K(this,t,Qe,Je,G,{board:0,fieldToString:1,player:3,enemy:4})}}function Ze(e){let t;return{c(){t=T("ðŸ¤–")},m(n,r){$(n,t,r)},d(n){n&&E(t)}}}function Fe(e){let t;return{c(){t=T("ðŸ‘¨â€ðŸ’»")},m(n,r){$(n,t,r)},d(n){n&&E(t)}}}function et(e){let t;return{c(){t=T("ðŸ¤–")},m(n,r){$(n,t,r)},d(n){n&&E(t)}}}function tt(e){let t;return{c(){t=T("ðŸ‘¨â€ðŸ’»")},m(n,r){$(n,t,r)},d(n){n&&E(t)}}}function nt(e){let t,n,r,i,s,o=e[0].score+"",l,u,c,d,m,g=e[1].score+"",A,a,f,k,O,z;function de(w,P){return P&1&&(i=null),i==null&&(i=!!w[0].isHuman()),i?Fe:Ze}let J=de(e,-1),Y=J(e);function me(w,P){return P&2&&(k=null),k==null&&(k=!!w[1].isHuman()),k?tt:et}let Q=me(e,-1),S=Q(e);return{c(){t=p("div"),n=p("div"),r=p("i"),Y.c(),s=L(),l=T(o),u=L(),c=p("div"),c.textContent="ðŸ†š",d=L(),m=p("div"),A=T(g),a=L(),f=p("i"),S.c(),h(r,"class","svelte-1gwglwo"),h(n,"id","player1"),h(n,"class","player svelte-1gwglwo"),h(c,"id","versus"),h(c,"class","svelte-1gwglwo"),h(f,"class","svelte-1gwglwo"),h(m,"id","player2"),h(m,"class","player svelte-1gwglwo"),h(t,"id","scoreboard"),h(t,"class","svelte-1gwglwo")},m(w,P){$(w,t,P),_(t,n),_(n,r),Y.m(r,null),_(n,s),_(n,l),_(t,u),_(t,c),_(t,d),_(t,m),_(m,A),_(m,a),_(m,f),S.m(f,null),O||(z=[R(c,"click",e[3]),R(c,"keydown",e[4])],O=!0)},p(w,[P]){J!==(J=de(w,P))&&(Y.d(1),Y=J(w),Y&&(Y.c(),Y.m(r,null))),P&1&&o!==(o=w[0].score+"")&&ce(l,o),P&2&&g!==(g=w[1].score+"")&&ce(A,g),Q!==(Q=me(w,P))&&(S.d(1),S=Q(w),S&&(S.c(),S.m(f,null)))},i:M,o:M,d(w){w&&E(t),Y.d(),S.d(),O=!1,I(z)}}}function rt(e,t,n){let{player:r}=t,{enemy:i}=t,s=ie();function o(){s("switch")}const l=()=>o(),u=()=>o();return e.$$set=c=>{"player"in c&&n(0,r=c.player),"enemy"in c&&n(1,i=c.enemy)},[r,i,o,l,u]}class it extends V{constructor(t){super(),K(this,t,rt,nt,G,{player:0,enemy:1})}}function ot(e){let t,n,r,i,s,o,l,u,c,d;return{c(){t=p("nav"),n=p("select"),r=p("option"),r.textContent="ðŸ¤–",i=p("option"),i.textContent="ðŸ¤–âž•",s=p("option"),s.textContent="ðŸ¤–â—",o=p("option"),o.textContent="â—ðŸ¤–â—",l=p("option"),l.textContent="ðŸ‘¨â€ðŸ’»",u=p("option"),u.textContent="ðŸ‘¨â€ðŸ’» / ðŸ‘¨â€ðŸ’»",r.__value="easy",r.value=r.__value,h(r,"class","svelte-17bkcmu"),i.__value="petty",i.value=i.__value,h(i,"class","svelte-17bkcmu"),s.__value="medium",s.value=s.__value,h(s,"class","svelte-17bkcmu"),o.__value="hard",o.value=o.__value,h(o,"class","svelte-17bkcmu"),l.__value="human",l.value=l.__value,h(l,"class","svelte-17bkcmu"),u.__value="online",u.value=u.__value,u.disabled=!0,h(u,"class","svelte-17bkcmu"),h(n,"id","mode"),h(n,"class","svelte-17bkcmu"),h(t,"class","svelte-17bkcmu")},m(m,g){$(m,t,g),_(t,n),_(n,r),_(n,i),_(n,s),_(n,o),_(n,l),_(n,u),c||(d=R(n,"change",e[0]),c=!0)},p:M,i:M,o:M,d(m){m&&E(t),c=!1,d()}}}function st(e){const t=ie();function n(r){let i=r.target.value,s=b.EASY;switch(i){case"easy":s=b.EASY;break;case"petty":s=b.PETTY;break;case"medium":s=b.MEDIUM;break;case"hard":s=b.HARD;break;case"human":s=b.HUMAN;break;case"online":s=b.ONLINE;break;default:s=b.EASY;break}t("change",s)}return[n]}class ct extends V{constructor(t){super(),K(this,t,st,ot,G,{})}}class D{constructor({primary:t,secondary:n,primaryAccent:r,secondaryAccent:i,background:s,name:o}){v(this,"primary");v(this,"secondary");v(this,"primaryAccent");v(this,"secondaryAccent");v(this,"background");v(this,"name");this.primary=t,this.secondary=n,this.primaryAccent=r,this.secondaryAccent=i,this.background=s,this.name=o}CSS(){return`--primary: ${this.primary}; --secondary: ${this.secondary}; --primaryAccent: ${this.primaryAccent}; --secondaryAccent: ${this.secondaryAccent}; --background: ${this.background}`}}const x=[new D({primary:"#1e1f26",secondary:"#bdc3c7",primaryAccent:"#3498db",secondaryAccent:"#2980b9",background:"#2c3e50",name:"Midnight blue"}),new D({primary:"#ffd700",secondary:"#616161",primaryAccent:"#8c7853",secondaryAccent:"#c5cae9",background:"#121212",name:"Black and gold"}),new D({primary:"#4e9a06",secondary:"#f7e267",primaryAccent:"#edd400",secondaryAccent:"#ce5c00",background:"#1b1b1b",name:"Dark green"}),new D({primary:"#8e24aa",secondary:"#ffd54f",primaryAccent:"#ffb300",secondaryAccent:"#e65100",background:"#121212",name:"Vibrant purple"}),new D({primary:"#008080",secondary:"#ffe0b2",primaryAccent:"#ffab91",secondaryAccent:"#4a148c",background:"#232323",name:"Teal blue"})];function lt(e){let t,n,r,i,s;return{c(){t=p("button"),n=T("ðŸŽ¨"),h(t,"title",r=x[e[0]].name),h(t,"class","svelte-tojmix")},m(o,l){$(o,t,l),_(t,n),i||(s=R(t,"click",e[2]),i=!0)},p(o,[l]){l&1&&r!==(r=x[o[0]].name)&&h(t,"title",r)},i:M,o:M,d(o){o&&E(t),i=!1,s()}}}function ut(e,t,n){const r=ie();let i=0;Re(()=>{r("changed",x[i])});function s(){n(0,i=(i+1)%x.length),r("changed",x[i])}return[i,s,()=>s()]}class ft extends V{constructor(t){super(),K(this,t,ut,lt,G,{})}}function at(e){let t,n,r,i,s,o,l,u,c,d;n=new ct({}),n.$on("change",e[5]);const m=[e[1]];let g={};for(let f=0;f<m.length;f+=1)g=he(g,m[f]);i=new it({props:g}),i.$on("switch",e[6]),o=new ft({}),o.$on("changed",ht);const A=[{board:e[0]},{fieldToString:e[2]},e[1]];let a={};for(let f=0;f<A.length;f+=1)a=he(a,A[f]);return c=new Xe({props:a}),c.$on("finished",e[3]),{c(){t=p("header"),Z(n.$$.fragment),r=L(),Z(i.$$.fragment),s=L(),Z(o.$$.fragment),l=L(),u=p("main"),Z(c.$$.fragment),h(t,"class","svelte-3o9bc2"),h(u,"class","svelte-3o9bc2")},m(f,k){$(f,t,k),j(n,t,null),_(t,r),j(i,t,null),_(t,s),j(o,t,null),$(f,l,k),$(f,u,k),j(c,u,null),d=!0},p(f,[k]){const O=k&2?ge(m,[ve(f[1])]):{};i.$set(O);const z=k&7?ge(A,[k&1&&{board:f[0]},k&4&&{fieldToString:f[2]},k&2&&ve(f[1])]):{};c.$set(z)},i(f){d||(B(n.$$.fragment,f),B(i.$$.fragment,f),B(o.$$.fragment,f),B(c.$$.fragment,f),d=!0)},o(f){X(n.$$.fragment,f),X(i.$$.fragment,f),X(o.$$.fragment,f),X(c.$$.fragment,f),d=!1},d(f){f&&E(t),U(n),U(i),U(o),f&&E(l),f&&E(u),U(c)}}}const dt="âŒ",mt="â­•";function ht({detail:e}){let t=Object.entries(e);for(let n of t)typeof n[1]=="string"&&document.documentElement.style.setProperty(`--${n[0]}`,`${n[1]}`)}function _t(e,t,n){let r=ee(),i=new Ke,s=d=>{switch(d){case y.EMPTY:return"";case y.PLAYER1:return dt;case y.PLAYER2:return mt}};function o(d){d.detail.isDraw()||(i.addWin(d.detail.winner),n(1,i)),setTimeout(()=>n(0,r=ee()),1e3)}function l(){n(0,r=ee()),i.switchSides(),n(1,i)}function u({detail:d}){i.updateMode(d),n(1,i),n(0,r=ee())}return[r,i,s,o,l,u,()=>l()]}class yt extends V{constructor(t){super(),K(this,t,_t,at,G,{})}}new yt({target:document.getElementById("app")});
